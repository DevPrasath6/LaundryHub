// MQTT Broker Configuration for Eclipse Mosquitto
// This file can be used with Docker or direct installation

// Basic Configuration
port 1883
bind_address 0.0.0.0

// WebSocket support (for web clients)
listener 9001
protocol websockets

// Persistence
persistence true
persistence_location /mosquitto/data/

// Logging
log_dest file /mosquitto/log/mosquitto.log
log_dest stdout
log_type error
log_type warning
log_type notice
log_type information
log_timestamp true

// Security Settings
allow_anonymous false
password_file /mosquitto/config/passwd

// Access Control Lists
acl_file /mosquitto/config/acl

// Maximum connections
max_connections 1000

// Message size limits
message_size_limit 1048576

// Client connection settings
keepalive_interval 60
max_keepalive 120

// Bridge configuration (for cloud connectivity)
// Uncomment and configure for cloud integration
# connection bridge-to-cloud
# address your-cloud-mqtt-broker:8883
# topic laundry/+/status out 0
# topic laundry/+/events out 0
# topic laundry/+/commands in 0
# username your-cloud-username
# password your-cloud-password
# bridge_cafile /mosquitto/certs/ca.crt
# bridge_certfile /mosquitto/certs/client.crt
# bridge_keyfile /mosquitto/certs/client.key
